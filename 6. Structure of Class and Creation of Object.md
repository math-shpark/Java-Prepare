# 6. 클래스의 구조

## 6.1 클래스의 구조와 객체 생성

### 6.1.1 클래스의 구조

- 클래스의 선언
    - 클래스의 선언부와 몸체로 나뉘고 몸체에는 클래스의 멤버가 선언됨
    - 클래스의 멤버 구성
        - 객체의 초기화를 담당하는 생성자
        - 클래스가 가지는 속성을 정의하는 멤버 변수
        - 클래스가 가지는 데이터를 조작하고 변환하는 메서드
    - 구문
      
        ```java
        [access modifier] class 클래스명 [extends 부모 클래스명] {
        	[access modifier] 클래스명(argument list) {}  // 생성자
        	[access modifier] 데이터 타입(data_type) 변수명[=초기 값];  // 변수 선언
        	[access modifier] return_type 메서드명(argument list) {}  //메서드 선언
        }
        ```
        
    - 구성요소
        1. 접근 제한자 : 접근 제한 시 사용되는 키워드로 생략이 가능함
        2. 클래스 : class라는 예약어로 선언하며 클래스명은 식별자 이름 규칙에 따라 명시함
        3. 생성자 : 클래스명과 이름이 같은 메서드로 클래스로부터 객체를 생성할 때 사용함
        4. 멤버 변수 : 클래스 속성을 정의하는 클래스의 멤버로서 변수명 앞에는 데이터 타입을 반드시 명시해야 함
        5. 메서드 : 클래스가 가지는 데이터를 조작하고 변환하는 클래스의 멤버로서 메서드명 앞에는 반환되는 데이터 타입을 반드시 명시하거나 반환되는 데이터가 없는 경우 `void`로 선언함
- 클래스 구조 예제
  
    ```java
    package sec01;
    
    public class Employee {
    	
    	private String name; // 이름
    	private int number; // 사번
    	private String dept; // 근무 부서
    	
    	// 생성자
    	public Employee(String name, int number, String dept) {
    		this.name = name;
    		this.number = number;
    		this.dept = dept;
    	}
    
    	// 메서드
    	public String getName() {
    		return name;
    	}
    
    	public void setName(String name) {
    		this.name = name;
    	}
    
    	public int getNumber() {
    		return number;
    	}
    
    	public void setNumber(int number) {
    		this.number = number;
    	}
    
    	public String getDept() {
    		return dept;
    	}
    
    	public void setDept(String dept) {
    		this.dept = dept;
    	}
    	
    }
    ```
    
- 클래스 Modifier
    - 구분
        1. 접근 권한 예약어 : `public`, `protected`, `private`, `default`
        2. 활용 방법 예약어 : `final`, `abstract`, `static`, `transient`, `volatile`, `synchronized`, `native`
    - 클래스 앞에 사용되는 Modifier : `public`, `final`, `abstract`
        - `public` : 모든 클래스에서 접근이 가능한 클래스
        - `final` : 자식 클래스를 가질 수 없는 클래스
        - `abstract` : 객체 생성이 불가능한 추상클래스
    - 접근 권한과 관련된 Modifier를 지정하지 않으면 같은 패키지 내의 클래스에서만 접근 가능
    - 서로 다른 패키지의 클래스에 접근하기 위해서는 `public`으로 지정해야 함
- UML(Unified Modeling Language)
    - 소프트웨어 개념을 다이어그램으로 그리기 위해 사용하는 시각적 표기법
    - 객체지향 프로그램을 시각화하고 시스템 사양이나 설계를 문서화
    - 시스템을 구성하는 다양한 클래스들과 클래스들 사이의 관계를 그림으로 표현

### 6.1.2 객체 생성

- 객체 생성
    - 자바 변수 구분
        1. 기본형 변수
        2. 참조형 변수 : 배열 객체나 일반 클래스의 객체를 처리할 때 사용
    - 배열 객체 생성 과정
        1. 객체 참조 변수 선언
           
            ```java
            int[] scoreList;
            ```
            
        2. 객체 생성 및 주소값 할당
           
            ```java
            scoreList = new int[5];
            ```
        
    - 클래스로부터 객체 생성 과정
        1. 특정 클래스 유형의 객체 참조 변수 선언
           
            ```java
            클래스이름 객체참조변수이름;
            ```
            
        2. 객체 생성 단계
           
            ```java
            객체참조변수이름 = new 클래스 이름();
            ```
            
            - 객체가 사용할 메모리 영역을 할당하는 과정
            - 예약어 `new` 사용
            - 생성된 객체에 대한 참조 값이 선언된 객체 참조 변수에 할당
- 클래스 선언과 객체 생성 점검 예제
  
    ```java
    package sec01;
    
    class Car {
    	String name;
    	int speed;
    }
    
    public class CarTest {
    
    	public static void main(String[] args) {
    		// TODO Auto-generated method stub
    		
    		Car Yellow = new Car();
    		
    		Yellow.name = "Lightning Yellow";
    		Yellow.speed = 300;
    		System.out.println(Yellow.name + " : " + Yellow.speed);
    
    	}
    
    }
    ```
    
    - 결과
      
        ```html
        Lightning Yellow : 300
        ```
    
- 하나의 클래스로부터 여러 개의 객체를 생성하는 예제
  
    ```java
    package sec01;
    
    public class CarTest2 {
    
    	public static void main(String[] args) {
    		// TODO Auto-generated method stub
    
    		Car Yellow = new Car();
    
    		Yellow.name = "Lightning Yellow";
    		Yellow.speed = 300;
    		System.out.println(Yellow.name + " : " + Yellow.speed);
    		
    		Car red = new Car();
    		red.name = "Sally Red";
    		red.speed = 200;
    		System.out.println(red.name + " : " + red.speed);
    
    	}
    
    }
    ```
    
    - 결과
      
        ```html
        Lightning Yellow : 300
        Sally Red : 200
        ```
    
- 멤버 변수의 선언
    - 분류
        1. 전역(Global) 변수
            - 클래스 선언부 밑에 선언된 변수로 멤버 변수라고 칭함
            - 여러 메서드에서 공통으로 사용할 수 있음
            - 객체가 가질 수 있는 속성을 나타내는데 사용
        2. 지역(Local) 변수
            - 메서드 선언부 밑에 선언된 변수
            - 해당 변수가 선언된 메서드 내에서만 사용 가능
    - 구문
      
        ```java
        [modifier] 데이터타입 변수이름;
        ```
        
        - 변수에 대한 접근 권한이나 활용 방법 제어
        - modifier 미지정 시 같은 패키지 내의 클래스에만 접근이 가능한 객체 변수라는 의미를 갖게 됨
    - 멤버 변수에 사용되는 Modifier
        1. 접근 권한
            - `public` : 모든 클래스에서 접근이 가능
            - `protected` : 동일 패키지에 속하는 클래스와 하위 클래스 관계의 클래스에 의해 접근 가능
            - `private` : 변수가 선언된 클래스 내애서만 접근 가능
        2. 활용 방법
            - `final` : 변수를 상수로 이용하는 경우
            - `static` : 클래스에 소속된 클래스 변수를 의미하며 일반적으로 클래스 변수라고 함
- 접근 제한자(Access Modifier)
    - 클래스, 변수, 메서드에 접근할 수 있는 권한을 나타내기 위해 사용
    - 종류와 쓰임
      
      
        | 종류 | 클래스 | 하위 클래스 | 동일 패키지 | 모든 클래스 |
        | --- | --- | --- | --- | --- |
        | private | O | X | X | X |
        | default | O | X | O | X |
        | protected | O | O | O | X |
        | public | O | O | O | O |
    - 접근 관련 modifier를 통해 정보 은닉을 구현할 수 있음
- 접근 권한 확인 예제
  
    ```java
    package sec01;
    
    class Car2 {
    	private int serialNumber;
    	protected String name;
    	int speed;
    }
    ```
    
    ```java
    package sec01;
    
    public class CarTest3 {
    
    	public static void main(String[] args) {
    		// TODO Auto-generated method stub
    		
    		Car2 Yellow = new Car2();
    		Yellow.name = "Lightning Yellow";
    		Yellow.speed = 300;
    		// Yellow.serialNumber = 2040;
    		
    		System.out.println(Yellow.name + " : " + Yellow.speed);
    
    	}
    
    }
    ```
    
    - 결과
      
        ```html
        Lightning Yellow : 300
        ```
    
- 접근 제한자와 정보 은닉 관계 예제
  
    ```java
    package sec01;
    
    class Car3 {
    	
    	private int serialNumber;
    	protected String name;
    	int speed;
    	
    	public int getSerialNumber(int managerId){
    		if (managerId == 12345) {
    			return serialNumber;
    		}
    		return 0;
    	}
    	
    	public void setSerialNumber(int serialNumber) {
    		this.serialNumber = serialNumber;
    	}
    
    }
    ```
    
    ```java
    package sec01;
    
    public class CarTest4 {
    
    	public static void main(String[] args) {
    		// TODO Auto-generated method stub
    		
    		Car3 Yellow = new Car3();
    		Yellow.name = "Lightning Yellow";
    		Yellow.speed = 300;
    		Yellow.setSerialNumber(4929);
    		System.out.println(Yellow.name + " : " + Yellow.speed);
    		System.out.println("Car No : " + Yellow.getSerialNumber(12345));
    
    	}
    
    }
    ```
    
    - 결과
      
        ```html
        Lightning Yellow : 300
        Car No : 4929
        ```
        

## 6.2 멤버 메서드

### 6.2.1 멤버 변수

- 메서드 정의하기
    - 메서드는 일종의 함수로서 클래스가 제공할 로직들을 정의함
    - 구문
      
        ```java
        [access modifier] 반환형(return_type) 메서드명(arg1, arg2, ..., argn){
        	// 메서드의 실행 코드
        }
        ```
        
    - 앞에 접근 제한자를 붙일 수 있음
    - 메서드의 수행 결과를 리턴할 수 있도록 반환형으로 선언해야 함
    - 반환 값이 없다면 `void`를 선언해야 함
    - 매서드 시그니처 : 반환형, 메서드명, 매개변수
      
        ```java
        public int sum(int num1, int num2){ // ()영역을 매개변수 영역이라고 하며 안에 선언된 변수가 매개변수
        
        }
        
        sum(4, 7); // ()안에 넘어가는 데이터가 argument(인자)
        ```
        
    - 구성요소
        1. 접근제한자 : 접근 제한 시 사용되는 키워드(생략 가능)
        2. 반환형 : 메서드가 수행되고 결과로 리턴되는 데이터 타입
        3. 메서드명 : 식별자 규칙에 따라 명시
        4. 매개변수 : 메소드 수행 시에 전달되는 인자의 타입과 변수명으로 존재하며 쉼표(,)로 구분
    - 사용 가능 Modifier
        1. 접근 권한 : `public`, `protected`, `private`
        2. 활용 방법 : `final`, `static`, `abstract`, `synchronized`
- 메서드 정의 예제
  
    ```java
    package sec02;
    
    public class MethodTest {
    
    	public static void main(String[] args) {
    		// TODO Auto-generated method stub
    		
    		int[] enScore = {55, 70, 45, 90, 100, 90, 95};
    		int enSum = 0;
    		
    		for (int i = 0; i<enScore.length; i++) {
    			enSum = enSum + enScore[i];
    		}
    		
    		double enAvgScore = (double)enSum/enScore.length;
    		System.out.println("영어 평균 : " + enAvgScore);
    		
    		int [] koScore = {93, 55, 87, 80, 100, 95, 65};
    		int koSum = 0;
    		
    		for (int i = 0; i < koScore.length; i++) {
    			koSum = koSum + koScore[i];
    		}
    		
    		double koAvgScore = (double)koSum/koScore.length;
    		System.out.println("국어 평균 : " + koAvgScore);
    
    	}
    
    }
    ```
    
    - 결과
      
        ```html
        영어 평균 : 77.85714285714286
        국어 평균 : 82.14285714285714
        ```
    
- 공통 로직 재사용 프로그램 예제
  
    ```java
    package sec02;
    
    public class MethodTest2 {
    
    	public static void main(String[] args) {
    		// TODO Auto-generated method stub
    		
    		int[] enScore = {55, 70, 45, 90, 100, 90, 95};
    		int [] koScore = {93, 55, 87, 80, 100, 95, 65};
    		
    		System.out.println("영어 평균 : " + getAvgScore(enScore));
    		System.out.println("국어 평균 : " + getAvgScore(koScore));
    
    	}
    	
    	public static double getAvgScore(int[] scoreList) {
    		int sum = 0;
    		double avgScore = 0.0;
    		
    		for (int i = 0; i < scoreList.length; i++) {
    			sum = sum + scoreList[i];
    		}
    		
    		avgScore = (double)sum/scoreList.length;
    		return avgScore;
    	}
    
    }
    ```
    
    - 결과
      
        ```html
        영어 평균 : 77.85714285714286
        국어 평균 : 82.14285714285714
        ```
        

### 6.2.2 메서드

- 유형별 메서드
    1. 리턴 값과 매개변수가 없는 경우
        - 메서드의 기능이 외부로부터 받아들일 데이터가 필요 없는 경우 매개변수가 없는 메서드로 선언함
        - 리턴할 데이터가 아무 것도 없는 경우 `void` 예약어로 리턴 타입을 지정
    2. 리턴 값은 없고 매개변수만 있는 경우
        - 매개변수 정보만 받아서 로직을 처리하고 아무 것도 리턴하지 않는 경우
    3. 리턴 값과 매개변수가 있는 경우
        - 매개변수로 받은 데이터를 이용하여 적절한 로직을 처리하고, 처리한 결과를 메서드가 호출된 곳으로 되돌려주면 됨
        - 주의사항 : `return` 예약어 뒤에는 구문 작성 불가
- 메서드의 자동 구현
    - 멤버 변수들은 대부분의 경우 `private`로 선언해서 외부에서는 숨겨진 형태로 만듦
    - `public`으로 지정한 메서드를 통해 접근하도록 클래스 구현
    - Getter 메서드 : `private` 변수에 저장된 값을 리턴하는 메서드
    - Setter 메서드 : `private` 변수에 값을 저장하는 메서드
    - Eclipse에서는 getter/setter를 자동으로 생성하는 기능 지원
        1. 우클릭한 후 source 클릭(또는 alt + shift + s 누름)
        2. generate getters and setters 클릭
        3. 생성할 변수를 선택한 후 확인 버튼 클릭
- `toString()` 메서드 자동 구현
    1. [우클릭] - [sources] (또는 alt + shift + s)
    2. [Generate toString()] 클릭
    3. 변수를 선택한 후 확인 클릭
        - `toString()` 메서드를 통해 생성된 객체의 상태 확인

---